// <auto-generated>
// This file was generated by Deepstaging source generators.
// Changes to this file may be lost when the code is regenerated.
// </auto-generated>

#nullable enable

using Azure.Data.Tables;
using Deepstaging.Azure.Tables;

namespace Deepstaging.Sample.Azure.Tables;

using static System.Text.Json.JsonSerializer;

public partial record MyEntity : IAzureTableEntity<MyEntity> 
{
    public string TableName => "MyEntity";
    
    public TableEntity ToTableEntity() => new (ThreadTs, Ts) {
        { "ByteArrayProperty", ByteArrayProperty },
        { "BooleanProperty", BooleanProperty },
        { "DateTimeProperty", DateTimeProperty },
        { "DateTimeOffsetProperty", DateTimeOffsetProperty },
        { "DoubleProperty", DoubleProperty },
        { "GuidProperty", GuidProperty },
        { "Int32Property", Int32Property },
        { "Int64Property", Int64Property },
        { "NullableBooleanProperty", NullableBooleanProperty },
        { "NullableDateTimeProperty", NullableDateTimeProperty },
        { "NullableDateTimeOffsetProperty", NullableDateTimeOffsetProperty },
        { "NullableDoubleProperty", NullableDoubleProperty },
        { "NullableGuidProperty", NullableGuidProperty },
        { "NullableInt32Property", NullableInt32Property },
        { "NullableInt64Property", NullableInt64Property },
        { "ThreadTs", ThreadTs },
        { "Ts", Ts },
        { "Property", Serialize(Property) }
    };
}

internal static class MyEntityTableEntityExtensions
{     
    public static MyEntity ToMyEntity(this TableEntity entity) => new() {
        ThreadTs = entity.PartitionKey,
        Ts = entity.RowKey,
        ByteArrayProperty = entity.GetRequiredBinary("ByteArrayProperty"),
        BooleanProperty = entity.GetRequiredBoolean("BooleanProperty"),
        DateTimeProperty = entity.GetRequiredDateTime("DateTimeProperty"),
        DateTimeOffsetProperty = entity.GetRequiredDateTimeOffset("DateTimeOffsetProperty"),
        DoubleProperty = entity.GetRequiredDouble("DoubleProperty"),
        GuidProperty = entity.GetRequiredGuid("GuidProperty"),
        Int32Property = entity.GetRequiredInt("Int32Property"),
        Int64Property = entity.GetRequiredLong("Int64Property"),
        NullableBooleanProperty = entity.GetBoolean("NullableBooleanProperty"),
        NullableDateTimeProperty = entity.GetDateTime("NullableDateTimeProperty"),
        NullableDateTimeOffsetProperty = entity.GetDateTimeOffset("NullableDateTimeOffsetProperty"),
        NullableDoubleProperty = entity.GetDouble("NullableDoubleProperty"),
        NullableGuidProperty = entity.GetGuid("NullableGuidProperty"),
        NullableInt32Property = entity.GetInt32("NullableInt32Property"),
        NullableInt64Property = entity.GetInt64("NullableInt64Property"),
        Property = Deserialize<global::Deepstaging.Sample.Azure.Tables.MyProperty>(entity.GetRequiredString("Property"))!
    };
}